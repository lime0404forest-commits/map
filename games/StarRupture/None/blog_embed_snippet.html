<!-- 【全部用】全ピン表示。data-filter / data-show-labels / data-csv なし（map.js と同階層の master_data.csv を参照） -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<div id="map-container" style="position: relative; width: 100%; height: 85vh; border: 1px solid #333;">
    <div id="game-map" data-zoom="2" style="width: 100%; height: 100%; background: #0d0d0d;"></div>
    
    <button id="fullscreen-btn" style="
        position: absolute; bottom: 20px; left: 20px; z-index: 1000;
        background: #fff; border: 2px solid rgba(0,0,0,0.2); border-radius: 4px;
        padding: 8px 12px; font-weight: bold; cursor: pointer; box-shadow: 0 1px 5px rgba(0,0,0,0.4);
    ">⛶ 全画面表示</button>
</div>

<style>
/* --- 共通設定 --- */
.emoji-icon div { 
    display: flex; justify-content: center; align-items: center; 
    width: 100%; height: 100%; 
    transition: all 0.2s ease-out; 
    filter: drop-shadow(0 0 2px rgba(0,0,0,0.8));
    cursor: pointer; 
}
/* ズームレベル0～3 */
.zoom-level-0 .emoji-icon div, .zoom-level-1 .emoji-icon div, .zoom-level-2 .emoji-icon div { font-size: 16px !important; }
.zoom-level-3 .emoji-icon div { font-size: 24px !important; }

/* ズームレベル4～5（密集対策） */
.zoom-level-4 .emoji-icon div, .zoom-level-5 .emoji-icon div { 
    font-size: 18px !important; opacity: 0.8; 
}
/* ホバー時 */
.zoom-level-4 .emoji-icon div:hover, .zoom-level-5 .emoji-icon div:hover {
    transform: scale(1.0); z-index: 10000 !important; opacity: 1; filter: drop-shadow(0 0 8px #fff); 
}
/* ツールチップ */
.item-tooltip {
    background: rgba(0, 0, 0, 0.85) !important; border: 1px solid #777 !important; color: #fff !important;
    font-weight: bold !important; padding: 4px 8px !important; border-radius: 4px !important;
    font-size: 12px !important; white-space: nowrap; box-shadow: 2px 2px 6px rgba(0,0,0,0.5);
}
.leaflet-tooltip-right:before { border-right-color: rgba(0, 0, 0, 0.85); }
.debug-marker div { opacity: 0.5; font-size: 12px !important; }

/* 全画面時のスタイル補正 */
:fullscreen #game-map { height: 100vh !important; width: 100vw !important; }
:-webkit-full-screen #game-map { height: 100vh !important; width: 100vw !important; }
</style>

<script src="https://raw.githack.com/lime0404forest-commits/map/main/games/StarRupture/None/map.js?v=20260215"></script>

<script>
document.getElementById('fullscreen-btn').addEventListener('click', function() {
    var elem = document.getElementById('map-container');
    if (!document.fullscreenElement) {
        if(elem.requestFullscreen) { elem.requestFullscreen(); }
        else if(elem.webkitRequestFullscreen) { elem.webkitRequestFullscreen(); } // Safari
        this.innerText = "× 閉じる";
    } else {
        if(document.exitFullscreen) { document.exitFullscreen(); }
        this.innerText = "⛶ 全画面表示";
    }
});
</script>
